// Generated by Haxe 4.1.5
#include <hxcpp.h>

#ifndef INCLUDED_StringTools
#include <StringTools.h>
#endif
#ifndef INCLUDED_flixel_FlxG
#include <flixel/FlxG.h>
#endif
#ifndef INCLUDED_flixel_util_FlxSave
#include <flixel/util/FlxSave.h>
#endif
#ifndef INCLUDED_flixel_util_IFlxDestroyable
#include <flixel/util/IFlxDestroyable.h>
#endif
#ifndef INCLUDED_haxe_IMap
#include <haxe/IMap.h>
#endif
#ifndef INCLUDED_haxe_ds_StringMap
#include <haxe/ds/StringMap.h>
#endif
#ifndef INCLUDED_meta_CoolUtil
#include <meta/CoolUtil.h>
#endif
#ifndef INCLUDED_meta_data_Highscore
#include <meta/data/Highscore.h>
#endif

HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_16_saveScore,"meta.data.Highscore","saveScore",0xe459a1fc,"meta.data.Highscore.saveScore","meta/data/Highscore.hx",16,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_29_saveWeekScore,"meta.data.Highscore","saveWeekScore",0x579afa68,"meta.data.Highscore.saveWeekScore","meta/data/Highscore.hx",29,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_45_setScore,"meta.data.Highscore","setScore",0x1e6e1709,"meta.data.Highscore.setScore","meta/data/Highscore.hx",45,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_53_formatSong,"meta.data.Highscore","formatSong",0x67ac61a5,"meta.data.Highscore.formatSong","meta/data/Highscore.hx",53,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_65_getScore,"meta.data.Highscore","getScore",0x7010bd95,"meta.data.Highscore.getScore","meta/data/Highscore.hx",65,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_73_getWeekScore,"meta.data.Highscore","getWeekScore",0x74ca5681,"meta.data.Highscore.getWeekScore","meta/data/Highscore.hx",73,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_82_load,"meta.data.Highscore","load",0x32e3c45f,"meta.data.Highscore.load","meta/data/Highscore.hx",82,0x8a23c169)
HX_LOCAL_STACK_FRAME(_hx_pos_2ca04162248b33db_10_boot,"meta.data.Highscore","boot",0x2c47ae6b,"meta.data.Highscore.boot","meta/data/Highscore.hx",10,0x8a23c169)
namespace meta{
namespace data{

void Highscore_obj::__construct() { }

Dynamic Highscore_obj::__CreateEmpty() { return new Highscore_obj; }

void *Highscore_obj::_hx_vtable = 0;

Dynamic Highscore_obj::__Create(::hx::DynamicArray inArgs)
{
	::hx::ObjectPtr< Highscore_obj > _hx_result = new Highscore_obj();
	_hx_result->__construct();
	return _hx_result;
}

bool Highscore_obj::_hx_isInstanceOf(int inClassId) {
	return inClassId==(int)0x00000001 || inClassId==(int)0x3753021d;
}

 ::haxe::ds::StringMap Highscore_obj::songScores;

void Highscore_obj::saveScore(::String song,::hx::Null< int >  __o_score, ::Dynamic __o_diff){
            		int score = __o_score.Default(0);
            		 ::Dynamic diff = __o_diff;
            		if (::hx::IsNull(__o_diff)) diff = 0;
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_16_saveScore)
HXLINE(  17)		::String daSong = ::meta::data::Highscore_obj::formatSong(song,( (int)(diff) ));
HXLINE(  19)		if (::meta::data::Highscore_obj::songScores->exists(daSong)) {
HXLINE(  21)			if (::hx::IsLess( ::meta::data::Highscore_obj::songScores->get(daSong),score )) {
HXLINE(  22)				::meta::data::Highscore_obj::setScore(daSong,score);
            			}
            		}
            		else {
HXLINE(  25)			::meta::data::Highscore_obj::setScore(daSong,score);
            		}
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC3(Highscore_obj,saveScore,(void))

void Highscore_obj::saveWeekScore(::hx::Null< int >  __o_week,::hx::Null< int >  __o_score, ::Dynamic __o_diff){
            		int week = __o_week.Default(1);
            		int score = __o_score.Default(0);
            		 ::Dynamic diff = __o_diff;
            		if (::hx::IsNull(__o_diff)) diff = 0;
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_29_saveWeekScore)
HXLINE(  30)		::String daWeek = ::meta::data::Highscore_obj::formatSong((HX_("week",f4,5f,f5,4e) + week),( (int)(diff) ));
HXLINE(  32)		if (::meta::data::Highscore_obj::songScores->exists(daWeek)) {
HXLINE(  34)			if (::hx::IsLess( ::meta::data::Highscore_obj::songScores->get(daWeek),score )) {
HXLINE(  35)				::meta::data::Highscore_obj::setScore(daWeek,score);
            			}
            		}
            		else {
HXLINE(  38)			::meta::data::Highscore_obj::setScore(daWeek,score);
            		}
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC3(Highscore_obj,saveWeekScore,(void))

void Highscore_obj::setScore(::String song,int score){
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_45_setScore)
HXLINE(  47)		::meta::data::Highscore_obj::songScores->set(song,score);
HXLINE(  48)		::flixel::FlxG_obj::save->data->__SetField(HX_("songScores",96,1a,f0,a0),::meta::data::Highscore_obj::songScores,::hx::paccDynamic);
HXLINE(  49)		::flixel::FlxG_obj::save->flush(null(),null());
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC2(Highscore_obj,setScore,(void))

::String Highscore_obj::formatSong(::String song,int diff){
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_53_formatSong)
HXLINE(  54)		::String daSong = song;
HXLINE(  56)		::String difficulty = (HX_("-",2d,00,00,00) + ::meta::CoolUtil_obj::difficultyFromNumber(diff).toLowerCase());
HXLINE(  57)		difficulty = ::StringTools_obj::replace(difficulty,HX_("-normal",14,52,af,7f),HX_("",00,00,00,00));
HXLINE(  59)		daSong = (daSong + difficulty);
HXLINE(  61)		return daSong;
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC2(Highscore_obj,formatSong,return )

int Highscore_obj::getScore(::String song,int diff){
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_65_getScore)
HXLINE(  66)		::Dynamic this1 = ::meta::data::Highscore_obj::songScores;
HXDLIN(  66)		if (!(( ( ::haxe::ds::StringMap)(this1) )->exists(::meta::data::Highscore_obj::formatSong(song,diff)))) {
HXLINE(  67)			::meta::data::Highscore_obj::setScore(::meta::data::Highscore_obj::formatSong(song,diff),0);
            		}
HXLINE(  69)		::Dynamic this2 = ::meta::data::Highscore_obj::songScores;
HXDLIN(  69)		return ( ( ::haxe::ds::StringMap)(this2) )->get_int(::meta::data::Highscore_obj::formatSong(song,diff));
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC2(Highscore_obj,getScore,return )

int Highscore_obj::getWeekScore(int week,int diff){
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_73_getWeekScore)
HXLINE(  74)		::Dynamic this1 = ::meta::data::Highscore_obj::songScores;
HXDLIN(  74)		if (!(( ( ::haxe::ds::StringMap)(this1) )->exists(::meta::data::Highscore_obj::formatSong((HX_("week",f4,5f,f5,4e) + week),diff)))) {
HXLINE(  75)			::meta::data::Highscore_obj::setScore(::meta::data::Highscore_obj::formatSong((HX_("week",f4,5f,f5,4e) + week),diff),0);
            		}
HXLINE(  77)		::Dynamic this2 = ::meta::data::Highscore_obj::songScores;
HXDLIN(  77)		return ( ( ::haxe::ds::StringMap)(this2) )->get_int(::meta::data::Highscore_obj::formatSong((HX_("week",f4,5f,f5,4e) + week),diff));
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC2(Highscore_obj,getWeekScore,return )

void Highscore_obj::load(){
            	HX_STACKFRAME(&_hx_pos_2ca04162248b33db_82_load)
HXDLIN(  82)		if (::hx::IsNotNull( ::flixel::FlxG_obj::save->data->__Field(HX_("songScores",96,1a,f0,a0),::hx::paccDynamic) )) {
HXLINE(  84)			::meta::data::Highscore_obj::songScores = ( ( ::haxe::ds::StringMap)(::flixel::FlxG_obj::save->data->__Field(HX_("songScores",96,1a,f0,a0),::hx::paccDynamic)) );
            		}
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC0(Highscore_obj,load,(void))


Highscore_obj::Highscore_obj()
{
}

bool Highscore_obj::__GetStatic(const ::String &inName, Dynamic &outValue, ::hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 4:
		if (HX_FIELD_EQ(inName,"load") ) { outValue = load_dyn(); return true; }
		break;
	case 8:
		if (HX_FIELD_EQ(inName,"setScore") ) { outValue = setScore_dyn(); return true; }
		if (HX_FIELD_EQ(inName,"getScore") ) { outValue = getScore_dyn(); return true; }
		break;
	case 9:
		if (HX_FIELD_EQ(inName,"saveScore") ) { outValue = saveScore_dyn(); return true; }
		break;
	case 10:
		if (HX_FIELD_EQ(inName,"songScores") ) { outValue = ( songScores ); return true; }
		if (HX_FIELD_EQ(inName,"formatSong") ) { outValue = formatSong_dyn(); return true; }
		break;
	case 12:
		if (HX_FIELD_EQ(inName,"getWeekScore") ) { outValue = getWeekScore_dyn(); return true; }
		break;
	case 13:
		if (HX_FIELD_EQ(inName,"saveWeekScore") ) { outValue = saveWeekScore_dyn(); return true; }
	}
	return false;
}

bool Highscore_obj::__SetStatic(const ::String &inName,Dynamic &ioValue,::hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 10:
		if (HX_FIELD_EQ(inName,"songScores") ) { songScores=ioValue.Cast<  ::haxe::ds::StringMap >(); return true; }
	}
	return false;
}

#ifdef HXCPP_SCRIPTABLE
static ::hx::StorageInfo *Highscore_obj_sMemberStorageInfo = 0;
static ::hx::StaticInfo Highscore_obj_sStaticStorageInfo[] = {
	{::hx::fsObject /*  ::haxe::ds::StringMap */ ,(void *) &Highscore_obj::songScores,HX_("songScores",96,1a,f0,a0)},
	{ ::hx::fsUnknown, 0, null()}
};
#endif

static void Highscore_obj_sMarkStatics(HX_MARK_PARAMS) {
	HX_MARK_MEMBER_NAME(Highscore_obj::songScores,"songScores");
};

#ifdef HXCPP_VISIT_ALLOCS
static void Highscore_obj_sVisitStatics(HX_VISIT_PARAMS) {
	HX_VISIT_MEMBER_NAME(Highscore_obj::songScores,"songScores");
};

#endif

::hx::Class Highscore_obj::__mClass;

static ::String Highscore_obj_sStaticFields[] = {
	HX_("songScores",96,1a,f0,a0),
	HX_("saveScore",d5,7a,86,07),
	HX_("saveWeekScore",c1,b3,07,00),
	HX_("setScore",50,dc,0d,87),
	HX_("formatSong",ac,46,bd,0b),
	HX_("getScore",dc,82,b0,d8),
	HX_("getWeekScore",48,cb,a3,ea),
	HX_("load",26,9a,b7,47),
	::String(null())
};

void Highscore_obj::__register()
{
	Highscore_obj _hx_dummy;
	Highscore_obj::_hx_vtable = *(void **)&_hx_dummy;
	::hx::Static(__mClass) = new ::hx::Class_obj();
	__mClass->mName = HX_("meta.data.Highscore",d5,60,aa,35);
	__mClass->mSuper = &super::__SGetClass();
	__mClass->mConstructEmpty = &__CreateEmpty;
	__mClass->mConstructArgs = &__Create;
	__mClass->mGetStaticField = &Highscore_obj::__GetStatic;
	__mClass->mSetStaticField = &Highscore_obj::__SetStatic;
	__mClass->mMarkFunc = Highscore_obj_sMarkStatics;
	__mClass->mStatics = ::hx::Class_obj::dupFunctions(Highscore_obj_sStaticFields);
	__mClass->mMembers = ::hx::Class_obj::dupFunctions(0 /* sMemberFields */);
	__mClass->mCanCast = ::hx::TCanCast< Highscore_obj >;
#ifdef HXCPP_VISIT_ALLOCS
	__mClass->mVisitFunc = Highscore_obj_sVisitStatics;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mMemberStorageInfo = Highscore_obj_sMemberStorageInfo;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mStaticStorageInfo = Highscore_obj_sStaticStorageInfo;
#endif
	::hx::_hx_RegisterClass(__mClass->mName, __mClass);
}

void Highscore_obj::__boot()
{
{
            	HX_GC_STACKFRAME(&_hx_pos_2ca04162248b33db_10_boot)
HXDLIN(  10)		songScores =  ::haxe::ds::StringMap_obj::__alloc( HX_CTX );
            	}
}

} // end namespace meta
} // end namespace data
